
## ⚡ Claude Code Optimizations

### Parallel Execution

**CRITICAL**: Maximize performance by running independent operations in parallel.

**Pattern**: Call multiple tools in a SINGLE message whenever possible.

#### Example: Running Validators (commit.md Step 2)

**✅ CORRECT - Parallel (FAST)**:
```
Send ONE message with THREE Bash tool calls:
1. Bash: npm test -- --coverage
2. Bash: npm run lint
3. Bash: npx tsc --noEmit
(All run concurrently)
```

**❌ WRONG - Sequential (SLOW)**:
```
Message 1: Bash: npm test -- --coverage (wait for response)
Message 2: Bash: npm run lint (wait for response)
Message 3: Bash: npx tsc --noEmit (wait for response)
(3x slower due to round trips)
```

#### Example: Reading Multiple Files

**✅ CORRECT - Parallel**:
```
Send ONE message with multiple Read tool calls:
- Read: src/domain/User.ts
- Read: src/application/GetUsers.ts
- Read: tests/domain/User.test.ts
(All read concurrently)
```

**❌ WRONG - Sequential**:
```
Read one file → wait → Read next file → wait → Read next file
```

#### When to Use Parallel Execution

1. **Validators** (commit.md Step 2) - Run tests, linting, architecture check in parallel
2. **File reads** - Reading multiple unrelated files
3. **Git operations** - `git status`, `git diff`, `git log` can run together
4. **Independent searches** - Multiple Glob/Grep operations

#### When NOT to Use Parallel

1. **Dependencies** - If operation B needs result from operation A
2. **File writes** - Write operations that might conflict
3. **Sequential logic** - When order matters

### Use Task Tool for Complex Searches

When searching for code or exploring codebase:

**✅ Use Task tool with Explore agent**:
```
User: "Where are errors from the client handled?"
Assistant: [Uses Task tool with subagent_type=Explore]
```

**❌ Don't run Grep directly** for open-ended searches:
```
❌ Grep for "error" → Grep for "client" → Read files → Grep again
(Too many round trips)
```

### Run Tests with Coverage in ONE Command

**✅ CORRECT**:
```bash
${COVERAGE_COMMAND}              # Single command gets both tests + coverage
```

**❌ WRONG**:
```bash
npm test                       # Run tests
npm test -- --coverage         # Run again for coverage (wasteful)
```

---
